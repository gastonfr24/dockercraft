# üéÆ DockerCraft - Minecraft Server Template

> Plantilla Docker optimizada para servidores de Minecraft que pueden ser instanciados bajo demanda

[![CI](https://github.com/gastonfr24/dockercraft/workflows/CI/badge.svg)](https://github.com/gastonfr24/dockercraft/actions)
[![Docker](https://img.shields.io/badge/Docker-Ready-2496ED?logo=docker&logoColor=white)](https://www.docker.com/)
[![Minecraft](https://img.shields.io/badge/Minecraft-All%20Versions-62B47A?logo=minecraft&logoColor=white)](https://www.minecraft.net/)
[![Paper](https://img.shields.io/badge/Paper-Optimized-00897B)](https://papermc.io/)
[![License](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)
[![Version](https://img.shields.io/badge/Version-v1.0.0-blue.svg)](https://github.com/gastonfr24/dockercraft/releases)
[![Made with ‚ù§Ô∏è](https://img.shields.io/badge/Made%20with-‚ù§Ô∏è-red.svg)](https://github.com/gastonfr24/dockercraft)

---

## üìã ¬øQu√© es Esto?

**DockerCraft** es un template de servidor Minecraft en Docker altamente configurable y optimizado. Este proyecto contiene **SOLO** la configuraci√≥n Docker base que puede ser usada para crear m√∫ltiples instancias de servidores con diferentes configuraciones.

### ‚ö†Ô∏è Importante

Este proyecto NO incluye:
- ‚ùå API REST para gesti√≥n
- ‚ùå Base de datos
- ‚ùå Sistema de autenticaci√≥n
- ‚ùå Dashboard web
- ‚ùå Sistema de backups automatizado

**Estos componentes van en un proyecto API separado que consumir√° este template.**

---

## ‚ú® Caracter√≠sticas

### üê≥ Core Features
- **Containerizado con Docker** - Aislamiento, portabilidad y f√°cil deployment
- **Altamente Configurable** - 100+ variables de entorno para personalizaci√≥n total
- **Production Ready** - CI/CD, testing automatizado, security hardening
- **Well Documented** - 10,000+ l√≠neas de documentaci√≥n completa

### üéÆ Minecraft Features
- **Multi-Version** - Todas las versiones de Minecraft (1.7+)
- **Multi-Type** - Paper, Spigot, Forge, Fabric, Vanilla, Purpur
- **Modpacks** - Soporte CurseForge, FTB, Modrinth
- **Plugins/Mods** - Instalaci√≥n autom√°tica
- **Auto-Pause** - Ahorra recursos cuando no hay jugadores

### ‚ö° Performance & Monitoring
- **Optimizado** - Aikar's JVM flags, performance tuning
- **Monitoreo** - Scripts de monitoreo de CPU, RAM, disco
- **Alertas** - Discord/Slack webhooks integrados
- **Troubleshooting** - Herramientas de diagn√≥stico autom√°tico

### üîí Security
- **Firewall Templates** - UFW, firewalld, iptables configs
- **Security Hardening** - Scripts automatizados
- **Best Practices** - Gu√≠as completas de seguridad

### üåê Networking
- **Multi-Server** - Proxy (Velocity/BungeeCord) ready
- **Health Checks** - Monitoreo autom√°tico de estado
- **Port Management** - Configuraci√≥n din√°mica de puertos

---

## üöÄ Quick Start

### Prerequisitos

- **Docker** 20.10+ ([Install](https://docs.docker.com/get-docker/))
- **Docker Compose** 2.0+ ([Install](https://docs.docker.com/compose/install/))
- **Git** (opcional)

### ‚ö° Setup en 60 Segundos

```bash
# 1. Clonar o descargar
git clone https://github.com/gastonfr24/dockercraft.git
cd dockercraft

# 2. Setup automatizado (recomendado)
./scripts/deployment/setup.sh

# 3. Levantar servidor
docker compose up -d

# 4. Ver logs en tiempo real
docker compose logs -f

# 5. ‚úÖ ¬°Listo! Conectar desde Minecraft
# Server Address: localhost:25565
```

### üéÆ Primeros Pasos

```bash
# Ver estado del servidor
docker compose ps

# Ejecutar comando en el servidor
docker exec minecraft-server rcon-cli list

# Monitorear recursos
./scripts/monitoring/monitor.sh

# Ver ayuda
./scripts/deployment/setup.sh --help
```

---

## üìÅ Estructura del Proyecto

```
dockercraft/
‚îú‚îÄ‚îÄ docs/                      # üìö Documentaci√≥n completa
‚îÇ   ‚îú‚îÄ‚îÄ setup/                 # Gu√≠as de instalaci√≥n
‚îÇ   ‚îú‚îÄ‚îÄ deployment/            # Gu√≠as de deployment p√∫blico
‚îÇ   ‚îú‚îÄ‚îÄ security/              # Gu√≠as de seguridad
‚îÇ   ‚îú‚îÄ‚îÄ monitoring/            # Gu√≠as de monitoreo
‚îÇ   ‚îú‚îÄ‚îÄ troubleshooting/       # Resoluci√≥n de problemas
‚îÇ   ‚îú‚îÄ‚îÄ development/           # Gu√≠as para desarrolladores
‚îÇ   ‚îú‚îÄ‚îÄ sprints/               # Planificaci√≥n de sprints
‚îÇ   ‚îú‚îÄ‚îÄ ai/                    # Docs para IA (contexto, memoria, roadmap)
‚îÇ   ‚îú‚îÄ‚îÄ templates/             # Templates de configuraci√≥n
‚îÇ   ‚îú‚îÄ‚îÄ INDEX.md               # √çndice completo de docs
‚îÇ   ‚îî‚îÄ‚îÄ VERSIONS.md            # Versiones soportadas
‚îú‚îÄ‚îÄ scripts/                   # üõ†Ô∏è Scripts de automatizaci√≥n
‚îÇ   ‚îú‚îÄ‚îÄ deployment/            # Deployment y setup
‚îÇ   ‚îú‚îÄ‚îÄ security/              # Seguridad y firewall
‚îÇ   ‚îú‚îÄ‚îÄ monitoring/            # Monitoreo y alertas
‚îÇ   ‚îú‚îÄ‚îÄ backup/                # Backup y restore
‚îÇ   ‚îú‚îÄ‚îÄ whitelist/             # Gesti√≥n de whitelist
‚îÇ   ‚îú‚îÄ‚îÄ tunnel/                # Cloudflare Tunnel
‚îÇ   ‚îú‚îÄ‚îÄ utils/                 # Utilidades generales
‚îÇ   ‚îî‚îÄ‚îÄ README.md              # Documentaci√≥n de scripts
‚îú‚îÄ‚îÄ Dockerfile                 # üê≥ Imagen Docker optimizada
‚îú‚îÄ‚îÄ docker-compose.yml         # Ejemplo standalone
‚îú‚îÄ‚îÄ docker-compose.prod.yml    # Configuraci√≥n producci√≥n
‚îú‚îÄ‚îÄ docker-compose.dev.yml     # Configuraci√≥n desarrollo
‚îú‚îÄ‚îÄ docker-compose.multi.yml   # Ejemplo multi-servidor
‚îú‚îÄ‚îÄ .env.example               # Variables de entorno documentadas
‚îú‚îÄ‚îÄ server.properties          # Configuraci√≥n base
‚îú‚îÄ‚îÄ config/                    # Configuraciones adicionales
‚îú‚îÄ‚îÄ plugins/                   # Plugins pre-instalados (opcional)
‚îî‚îÄ‚îÄ README.md                  # Este archivo
```

Ver [docs/INDEX.md](docs/INDEX.md) para navegaci√≥n completa de la documentaci√≥n.

---

## ‚öôÔ∏è Configuraci√≥n

### Variables de Entorno Principales

Editar `.env`:

```bash
# Versi√≥n de Minecraft
VERSION=1.21.1

# Tipo de servidor (PAPER, SPIGOT, VANILLA, FORGE, FABRIC)
TYPE=PAPER

# Memoria RAM
MEMORY=4G

# Jugadores m√°ximos
MAX_PLAYERS=20

# Dificultad (peaceful, easy, normal, hard)
DIFFICULTY=normal

# Modo de juego (survival, creative, adventure, spectator)
GAMEMODE=survival

# PVP habilitado
PVP=true

# Distancia de visi√≥n (chunks)
VIEW_DISTANCE=10

# Auto-pause cuando no hay jugadores
ENABLE_AUTOPAUSE=true

# Mensaje del servidor
MOTD=Mi Servidor de Minecraft
```

Ver `.env.example` para lista completa de variables disponibles.

---

## üõ†Ô∏è Casos de Uso

### 1. Servidor Vanilla B√°sico

```bash
docker run -d \
  --name mi-servidor \
  -p 25565:25565 \
  -e EULA=TRUE \
  -e VERSION=1.21.1 \
  -e TYPE=VANILLA \
  -e MEMORY=4G \
  -v mc-data:/data \
  dockercraft-mc:latest
```

### 2. Servidor Paper Optimizado

```yaml
# docker-compose.yml
services:
  minecraft:
    build: .
    ports:
      - "25565:25565"
    environment:
      EULA: "TRUE"
      VERSION: "1.21.1"
      TYPE: "PAPER"
      MEMORY: "6G"
      MAX_PLAYERS: "50"
      ENABLE_AUTOPAUSE: "TRUE"
    volumes:
      - mc-data:/data
```

### 3. M√∫ltiples Servidores

```bash
# Usar docker-compose.multi.yml
docker-compose -f docker-compose.multi.yml up -d
```

---

## ü§ñ Integraci√≥n con API Externa

Este template est√° dise√±ado para ser consumido por una API externa mediante Docker API:

```javascript
// Ejemplo en Node.js con Dockerode
const Docker = require('dockerode');
const docker = new Docker();

// Crear servidor desde template
const container = await docker.createContainer({
  Image: 'dockercraft-mc:latest',
  name: `mc-server-${serverId}`,
  Env: [
    'EULA=TRUE',
    `VERSION=${version}`,
    `TYPE=${type}`,
    `MEMORY=${memory}`,
    `MAX_PLAYERS=${maxPlayers}`,
    // ... m√°s configuraci√≥n
  ],
  HostConfig: {
    PortBindings: {
      '25565/tcp': [{ HostPort: assignedPort.toString() }]
    },
    Binds: [`mc-server-${serverId}-data:/data`],
    Memory: parseMemory(memory)
  }
});

await container.start();
```

Ver `docs/ai/07_WORKFLOWS.md` para ejemplos completos.

---

## üìö Documentaci√≥n

> **üìñ √çndice Completo**: Ver [`docs/INDEX.md`](docs/INDEX.md)

### Documentaci√≥n por Categor√≠a

#### üöÄ Setup e Instalaci√≥n
- [Quick Start](docs/ai/08_QUICK_START.md) - Inicio r√°pido
- [Advanced Config](docs/setup/ADVANCED_CONFIG.md) - Configuraci√≥n avanzada
- [Examples](docs/setup/EXAMPLES.md) - Ejemplos de configuraciones
- [Modpacks](docs/setup/MODPACKS.md) - Instalaci√≥n de modpacks

#### üåê Deployment P√∫blico
- [Cloudflare Tunnel](docs/deployment/CLOUDFLARE_TUNNEL.md) - Exposici√≥n p√∫blica (recomendado)
- [Public Deployment Guide](docs/deployment/PUBLIC_DEPLOYMENT_GUIDE.md) - Gu√≠a completa
- [Networking](docs/deployment/NETWORKING.md) - Configuraci√≥n de red

#### üîí Seguridad
- [Security Guide](docs/security/SECURITY.md) - Gu√≠a completa de seguridad
- [Approval Rules](docs/security/APPROVAL_RULES.md) - Reglas de aprobaci√≥n de PRs

#### üìä Monitoring
- [Performance](docs/monitoring/PERFORMANCE.md) - Optimizaci√≥n de performance
- [Alerts](docs/monitoring/ALERTS.md) - Sistema de alertas
- [Metrics API](docs/monitoring/METRICS_API.md) - API de m√©tricas

#### üêõ Troubleshooting
- [Troubleshooting](docs/troubleshooting/TROUBLESHOOTING.md) - Resoluci√≥n de problemas
- [FAQ](docs/troubleshooting/FAQ.md) - Preguntas frecuentes
- [Public Troubleshooting](docs/troubleshooting/PUBLIC_TROUBLESHOOTING.md) - Problemas de conectividad

#### üíª Desarrollo
- [Contributing](docs/development/CONTRIBUTING.md) - Gu√≠a de contribuci√≥n
- [Development](docs/development/DEVELOPMENT.md) - Entorno de desarrollo
- [Sprint Workflow](docs/development/SPRINT_WORKFLOW.md) - Workflow de sprints

#### ü§ñ Para IA
Documentaci√≥n completa en [`docs/ai/`](docs/ai/):
- [00_README_AI.md](docs/ai/00_README_AI.md) - Gu√≠a para IA
- [01_CONTEXT.md](docs/ai/01_CONTEXT.md) - Contexto del proyecto
- [02_ARCHITECTURE.md](docs/ai/02_ARCHITECTURE.md) - Arquitectura t√©cnica
- [04_MEMORY.md](docs/ai/04_MEMORY.md) - Estado actual del proyecto

---

## üîß Comandos √ötiles

```bash
# Ver logs
docker-compose logs -f

# Detener servidor
docker-compose down

# Ver estado
docker-compose ps

# Ejecutar comando en servidor
docker exec mc-server-1 rcon-cli say "Hola!"

# Ver jugadores online
docker exec mc-server-1 rcon-cli list

# Stats en tiempo real
docker stats mc-server-1

# Backup manual
docker run --rm \
  -v mc-data:/data \
  -v $(pwd)/backups:/backup \
  alpine tar czf /backup/backup-$(date +%Y%m%d).tar.gz /data
```

---

## üêõ Troubleshooting

### Servidor no inicia

```bash
# Ver logs
docker logs mc-server-1

# Verificar que EULA=TRUE
docker inspect mc-server-1 | grep EULA
```

### No puedo conectarme

```bash
# Verificar puerto
docker port mc-server-1

# Verificar firewall
sudo ufw allow 25565/tcp
```

### Servidor lento

```bash
# Ver recursos
docker stats mc-server-1

# Aumentar RAM en .env
MEMORY=8G
```

Ver gu√≠a completa en `docs/ai/07_WORKFLOWS.md`

---

## üìä Recursos Recomendados por Jugadores

| Jugadores | RAM | CPU | Disco |
|-----------|-----|-----|-------|
| 1-5       | 2GB | 2   | 2GB   |
| 5-10      | 4GB | 2   | 5GB   |
| 10-20     | 6GB | 4   | 10GB  |
| 20-50     | 8GB | 4   | 20GB  |
| 50+       | 12GB+ | 6+ | 30GB+ |

---

## ü§ù Contributing

Este proyecto est√° en desarrollo activo. Ver `docs/ai/05_ROADMAP.md` para el plan de implementaci√≥n.

---

## üìÑ Licencia

[Incluir licencia aqu√≠]

---

## üîó Enlaces √ötiles

- [itzg/minecraft-server](https://github.com/itzg/docker-minecraft-server) - Imagen base
- [Paper MC](https://papermc.io/) - Servidor optimizado
- [Docker Documentation](https://docs.docker.com/)
- [Minecraft Wiki](https://minecraft.fandom.com/wiki/Server.properties)

---

## üéØ Project Status & Roadmap

### ‚úÖ v1.0.0 - Production Ready (Completado)

- [x] ‚úÖ Dockerfile optimizado con multi-stage builds
- [x] ‚úÖ Docker Compose examples (7 configuraciones)
- [x] ‚úÖ Scripts de utilidad (10+ scripts)
- [x] ‚úÖ Sistema de monitoreo completo
- [x] ‚úÖ Alertas Discord/Slack
- [x] ‚úÖ Testing automatizado (integration, config, network)
- [x] ‚úÖ CI/CD pipeline (GitHub Actions)
- [x] ‚úÖ Security hardening
- [x] ‚úÖ Development environment
- [x] ‚úÖ Pre-commit hooks
- [x] ‚úÖ 10,000+ l√≠neas de documentaci√≥n
- [x] ‚úÖ Performance optimization guide
- [x] ‚úÖ Troubleshooting tools

### üìà Stats

- **26 archivos** de c√≥digo/scripts
- **5,021 l√≠neas** agregadas en Sprint 4
- **15 issues** completados
- **4 sprints** ejecutados
- **100% cobertura** de documentaci√≥n

### üîÆ Next Phase (Futuro)

El proyecto est√° **completo** como template Docker. Pr√≥ximas expansiones ser√°n proyectos separados:
- **API REST** para gesti√≥n de m√∫ltiples servidores (proyecto separado)
- **Dashboard Web** para UI (proyecto separado)
- **Database Layer** para persistencia (proyecto separado)

Ver roadmap completo en [docs/ai/05_ROADMAP.md](docs/ai/05_ROADMAP.md)

---

## üí° Notas

- **Este es un template**: No incluye gesti√≥n de m√∫ltiples servidores
- **La API va aparte**: Este proyecto es consumido por una API externa
- **Enfoque en configurabilidad**: Todo configurable v√≠a ENV vars
- **Optimizado para instanciaci√≥n**: Dise√±ado para crear N servidores r√°pidamente

---

## üìû Soporte

- üìñ Documentaci√≥n: `docs/ai/`
- üêõ Issues: [Crear issue]
- üí¨ Discusiones: [Abrir discusi√≥n]

---

**Estado del Proyecto:** ‚úÖ **v1.0.0 - Production Ready**

**√öltima actualizaci√≥n:** 2025-10-25

---

<div align="center">

### ‚≠ê Si te gusta este proyecto, dale una estrella!

Made with ‚ù§Ô∏è by [gastonfr24](https://github.com/gastonfr24)

</div>

